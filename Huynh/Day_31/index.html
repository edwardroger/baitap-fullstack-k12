<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</head>
<style>
    .nav-header {
        z-index: 9999;
    }
    .main-contain{
        position: relative;
    }
    .content-header {
        height: 800px;
    }
    img {
        object-fit: cover;
    }
    .blur {
        display: none;
        background-color: #4698a13f;
        position: fixed;
        top: 0;
        width: 100vw;
        height: 100vh;
        z-index: 9998;
    }
    .form-login {
        display: none;
    }
    .form-register {
        display: none;
    }
    .form-login, .form-register {
        position: fixed;
        width: 400px;
        left: 40%;
        background-color: rgba(86, 179, 179, 0.442);
        border-radius: 10px;
        padding: 10px;
        z-index: 9999;
    }
    .form-login h3, .form-register h3 {
        text-align: center;
    }
    .form-login_input {
        display: flex;
        width: 100%;
        flex-wrap: wrap;
        justify-content: space-between;
    }
    .form-login_input label{
        width: 20%;
        height: 40px;
        margin-top: 10px;
    }
    .form-login a, .form-register a {
        text-decoration: none;
    }
    .form-login p, .form-register p {
        text-align: center;
    }
    .chat-bubble {
    background-color: #f1f1f1;
    color: #000;
    padding: 10px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    z-index: 1;
    }

    .chat-bubble::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 10%;
    border-width: 8px;
    border-style: solid;
    border-color: #9e9595 transparent transparent transparent;
    }  
    .error-name, .error-email, .error-password, .error-number {
        display: none;
        color: red;
        min-width: 200px;
    }
</style>
<body>

    <nav class="nav-header navbar navbar-expand-lg sticky-top" style="background-color: #e3f2fd;">
        <div class="container-fluid">
            <a href="index.html" class="navbar-brand me-lg-5 m-lg-0 m-md-2">Hello World</a>
            <button class="navbar-toggler"
                    type="button" 
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarShop" 
                    aria-controls="navbarShop" 
                    aria-expanded="false" 
                    aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarShop">
                <form class="d-flex me-auto" role="search" action="">
                    <input class="form-control me-2" type="search" placeholder="Nhập ..." aria-label="search">
                    <button class="btn btn-outline-success w-50" type="submit">Tìm kiếm</button>
                </form>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a href="" class="nav-link active">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Giới Thiệu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Liên hệ</a>
                    </li>
                    <li class="nav-item">
                        <a class="btn show-login">Đăng nhập</a>
                    </li>
                    <li class="nav-item">
                        <a class="btn show-register">Đăng ký</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="main-contain">
        <div class="content-header container-fluid bg-body-secondary">
            <div id="carousel_th" class="carousel h-100 slide" data-bs-ride="carousel">
                <div class="carousel-inner h-100">
                    <div class="carousel-item bg-body-secondary active h-100">
                        <img src="images/star3.jpg" class="d-block w-100 h-100" alt="Ảnh thương hiệu">
                    </div>
                    <div class="carousel-item bg-body-secondary h-100">
                        <img src="images/star2.jpg" class="d-block w-100 h-100" alt="Ảnh thương hiệu">
                    </div>
                    <div class="carousel-item bg-body-secondary h-100">
                        <img src="images/star1.jpg" class="d-block w-100 h-100" alt="Ảnh thương hiệu">
                    </div>
                    <div class="carousel-item bg-body-secondary h-100">
                        <img src="images/star4.jpg" class="d-block w-100 h-100" alt="Ảnh thương hiệu">
                    </div>
                </div>
                <button class="carousel-control-prev" 
                        type="button" 
                        data-bs-target="#carousel_th" 
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next" 
                        type="button" 
                        data-bs-target="#carousel_th" 
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    
        <div class="blur"></div>
        <div class="form-login">
            <h3>LOGIN</h3>
            <div class="form-login_input">
                <label class="my-3" for="login-email">Email:</label>
                <div class="w-75 position-relative mt-3">
                    <div class="error-email chat-bubble position-absolute bottom-100 start-50"></div>
                    <input class="form-control" type="email" id="login-email" name="email" placeholder="Nhập email">
                </div>
                <label class="my-3" for="login-password">Password:</label>
                <div class="w-75 position-relative mt-3">
                    <div class="error-password chat-bubble position-absolute bottom-100 start-50"></div>
                    <input class="form-control" type="password" id="login-password" name="password" placeholder="Nhập password">
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <button class="btn-login btn btn-secondary my-4 w-50">Đăng nhập</button>
            </div>
            <p>Chưa có tài khoản?<a class="link-primary" href="#">Đăng ký ngay</a></p>
        </div>
    
        <div class="form-register">
            <h3>Register</h3>
            <div class="form-login_input">
                <label class="my-3" for="register-name">Name:</label>
                <div class="w-75 position-relative mt-3">
                    <div class="error-name chat-bubble position-absolute bottom-100 start-50"></div>
                    <input class="form-control" type="name" id="register-name" name="name" placeholder="Nhập tên">
                </div>
                <label class="my-3" for="register-number">Phone Number:</label>
                <div class="w-75 position-relative mt-3">
                    <div class="error-number chat-bubble position-absolute bottom-100 start-50"></div>
                    <input class="form-control" type="text" id="register-number" name="number" placeholder="Nhập Số điện thoại">
                </div>
                <label class="my-3" for="register-email">Email:</label>
                <div class="w-75 position-relative mt-3">
                    <div class="error-email chat-bubble position-absolute bottom-100 start-50"></div>
                    <input class="form-control" type="email" id="register-email" name="email" placeholder="Nhập email">
                </div>
                <label class="my-3" for="register-password">Password:</label>
                <div class="w-75 position-relative mt-3">
                    <div class="error-password chat-bubble position-absolute bottom-100 start-50"></div>
                    <input class="form-control" type="password" id="register-password" name="password" placeholder="Nhập password">
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <button class="btn-register btn btn-secondary my-4 w-50">Đăng ký</button>
            </div>
            <p>Đã có tài khoản?<a class="link-primary" href="#">Đăng nhập ngay</a></p>
        </div>
    </div>



    <script src="./js/jquery.min.js"></script>
    <script>
        var error = false;
        var test;
        $('.show-login').on('click', function () {
            let animation = 0;
            $('.chat-bubble').html('');
            $('.chat-bubble').css('display', 'none');
            $('.form-login').css('display', 'block');
            $('.form-register').css('display', 'none');
            $('.blur').css('display', 'block');
            clearInterval(test);
            test = setInterval(function () {
                if (animation === 110) {
                    clearInterval(test);
                } else {
                    animation++;
                    $('.form-login').css('top', `${animation}px`);
                }
            }, 5)
        })
        $('.show-register').on('click', function () {
            let animation = 0;
            $('.chat-bubble').html('');
            $('.chat-bubble').css('display', 'none');
            $('.form-register').css('display', 'block');
            $('.form-login').css('display', 'none');
            $('.blur').css('display', 'block');
            clearInterval(test);
            test = setInterval(function () {
                if (animation === 110) {
                    clearInterval(test);
                } else {
                    animation++;
                    $('.form-register').css('top', `${animation}px`);
                }
            }, 5)
        })

        // click input thì clear và ẩn khung error
        $('#login-email').on('click', function () {
            $('.form-login .error-email').html('');
            $('.form-login .error-email').css('display', 'none');
        })
        $('#login-password').on('click', function () {
            $('.form-login .error-password').html('');
            $('.form-login .error-password').css('display', 'none');
        })
        $('#register-name').on('click', function () {
            $('.form-register .error-name').html('');
            $('.form-register .error-name').css('display', 'none');
        })
        $('#register-number').on('click', function () {
            $('.form-register .error-number').html('');
            $('.form-register .error-number').css('display', 'none');
        })
        $('#register-email').on('click', function () {
            $('.form-register .error-email').html('');
            $('.form-register .error-email').css('display', 'none');
        })
        $('#register-password').on('click', function () {
            $('.form-register .error-password').html('');
            $('.form-register .error-password').css('display', 'none');
        })

        // Điều kiện input ko có ký tự
        function checkLogin() {
            if ($('#login-email').val().length === 0) {
                $('.form-login .error-email').css('display', 'block');
                $('.form-login .error-email').html('Không được để trống');
                error = true;
            }
            if ($('#login-password').val().length === 0) {
                $('.form-login .error-password').css('display', 'block');
                $('.form-login .error-password').html('Không được để trống');
                error = true;
            }
        }
        function checkRegister() {
            if ($('#register-name').val().length === 0) {
                $('.form-register .error-name').css('display', 'block');
                $('.form-register .error-name').html('Không được để trống');
                error = true;
            }
            if ($('#register-number').val().length === 0) {
                $('.form-register .error-number').css('display', 'block');
                $('.form-register .error-number').html('Không được để trống');
                error = true;
            }
            if ($('#register-email').val().length === 0) {
                $('.form-register .error-email').css('display', 'block');
                $('.form-register .error-email').html('Không được để trống');
                error = true;
            }
            if ($('#register-email').val().length === 0) {
                $('.form-register .error-email').css('display', 'block');
                $('.form-register .error-email').html('Không được để trống');
                error = true;
            }
        }

        // Điều kiện name
        // ko nhỏ hơn 3 và lớn hơn 50 ký tự
        $('#register-name').on('change', function () {
            if ($('#register-name').val().length <= 3 || $('#register-name').val().length >= 50) {
                $('.error-name').css('display', 'block')
                $('.error-name').html('Không nằm trong độ dài cho phép')
                error = true;
            } else error = false;
        })

        // Điều kiện phone number
        $('#register-number').on('change', function () {
            // Điều kiện phải là số
            if (/\D/.test($('#register-number').val())) {
                $('.error-number').css('display', 'block')
                $('.error-number').html('Phải nhập số')
                error = true;
            } else {
                error = false;
            }
            // Điều kiện > 9 và < 13
            if ($('#register-number').val().length <= 9 || $('#register-number').val().length >= 13) {
                $('.error-number').css('display', 'block')
                $('.error-number').html('Không phải là số điện thoại')
                error = true;
            } else {
                error = false;
            }
        })
        // Điều kiện email
        $('#login-email').on('change', function () {
            let loginEmail = $('#login-email');

            // check có @ ko
            if (loginEmail.length > 0 && !/@/.test(loginEmail.val())) {
                $('.form-login .error-email').css('display', 'block');
                $('.form-login .error-email').html('Sai định dạng');
                error = true;
            } else error = false;
        })
        $('#register-email').on('change', function () {
            let registerEmail = $('#register-email');

            // check có @ ko
            if (registerEmail.length > 0 && !/@/.test(registerEmail.val())) {
                $('.form-register .error-email').css('display', 'block');
                $('.form-register .error-email').html('Sai định dạng');
                error = true;
            } else error = false;
        })

        // Điều kiện password
        $('#login-password').on('change', function () {
            let password = $('#login-password');
            // check số lượng > 6 và < 20
            if (password.val().length < 6 || password.val().length > 20) {
                $('.form-login .error-password').css('display', 'block')
                $('.form-login .error-password').html('Password phải có từ 8 đến 20 ký tự');
                error = true;
            } else error = false;
            // check phải có 1 ký tự đặc biệt
            if (!/(\W)/.test($('#login-password').val())) {
                $('.form-login .error-password').css('display', 'block')
                $('.form-login .error-password').html('phải có ký tự đặc biệt như !, @, #,...');
                error = true;
            } else error = false;
        })
        $('#register-password').on('change', function () {
            let password = $('#register-password');
            // check số lượng > 6 và < 20
            if (password.val().length < 6 || password.val().length > 20) {
                $('.form-register .error-password').css('display', 'block')
                $('.form-register .error-password').html('Password phải có từ 8 đến 20 ký tự');
                error = true;
            } else error = false;
            // check phải có 1 ký tự đặc biệt
            if (!/(\W)/.test($('#register-password').val())) {
                $('.form-register .error-password').css('display', 'block')
                $('.form-register .error-password').html('phải có ký tự đặc biệt như !, @, #,...');
                error = true;
            } else error = false;
        })

        // click button 
        $('.btn-login').on('click', function () {
            checkLogin();
            console.log(error);
            if (!error) {
                alert('Đăng nhập thành công')
                window.location.assign('home.html');
            }
        })

        $('.btn-register').on('click', function () {
            checkRegister();
            console.log(error);
            if (!error) {
                alert('Đăng ký thành công')
                window.location.assign('home.html');
            }
        })
        
    </script>
</body>
</html>