<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello World</title>
    <link rel="stylesheet" href="./vender/css/bootstrap.css">
    <link rel="stylesheet" href="./vender/css/bootstrap.css.map">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    body {
        background-color: #d1d5d0cc;
    }

    .cart {
        margin: 50px 0;
        justify-content: center;
    }

    .cart-product, .cart-info {
        background-color: white;
        padding: 5px;
    }

    .cart-product {
        min-width: 550px;
        max-width: 850px;
    }
    .cart-info {
        min-width: 250px;
        max-width: 850px;
        height: max-content;
    }
    .list-product {
        width: 95%;
        border-collapse: unset;
    }
    .product {
        height: 110px;
        margin: 5px;
        flex-wrap: nowrap;
        border-bottom: 1px solid rgb(210, 207, 207);
    }
    .remove-product {
        width: 5%;
        color: rgb(200, 114, 114);
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 20px;
    }
    .remove-product:hover {
        background-color: rgba(133, 128, 128, 0.611);
        color: red;
        border-radius: 5px;
        cursor: pointer;
    }
    .info-product {
        width: 60%;
    }
    .sum-price-product, .result-sum-price {
        font-size: 18px;
        color: red;
    }
    .number-input input {
        max-width: 50px;
    }
    .note-product {
        background-color: rgba(255, 228, 196, 0.579);
    }
    .note-product textarea {
        height: 100px;
    }
    .form-check-input{
        border-radius: 50% !important;
    }
    .result-select div:nth-of-type(1) {
        color: rgb(150, 184, 150);
        font-size: 14px;
    }
    label:hover{
        cursor: pointer;
    }
    footer {
        background-color: rgb(108, 107, 107);
        color: rgb(190, 198, 205);
        padding: 20px;
    }
    footer a {
        text-decoration: none;
        color: rgb(190, 198, 205);
    }
</style>
<body>
    <nav class="nav-header navbar navbar-expand-lg sticky-top" style="background-color: #267920cc;">
        <div class="container-fluid">
            <a href="index.html" class="navbar-brand me-lg-5 m-lg-0 m-md-2">Hello World</a>
            <button class="navbar-toggler"
                    type="button" 
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarShop" 
                    aria-controls="navbarShop" 
                    aria-expanded="false" 
                    aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarShop">
                <form class="d-flex me-auto" role="search" action="">
                    <input class="form-control me-2" type="search" placeholder="Nhập ..." aria-label="search">
                    <button class="btn btn-light w-50" type="submit">Tìm kiếm</button>
                </form>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a href="" class="nav-link active">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Giới Thiệu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Liên hệ</a>
                    </li>
                    <li class="nav-item">
                        <a class="btn show-login">Đăng nhập</a>
                    </li>
                    <li class="nav-item">
                        <a class="btn show-register">Đăng ký</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="cart row">
        <div class="cart-product col-lg-7 col-md-12 me-lg-5">
            <h4 class="text-success m-2">Giỏ hàng của bạn</h4><hr>
            <p class="ms-2">Bạn đang có <span class="number-of-product">...</span> sản phẩm trong giỏ hàng</p>
            <div class="list-product mx-3 border border-1 border-black rounded-2">
                <div class="product d-flex">
                    <div class="remove-product">x</div>
                    <div class="img-product me-3">
                        <img width="100px" height="100px" src="https://th.bing.com/th?id=OIF.VQgp1p%2fxeHsu3sS%2b%2fkM7sg&pid=ImgDet&rs=1" alt="ảnh sạc dự phòng">
                    </div>
                    <div class="info-product mt-2">
                        <div class="info-product__name">Tên sản phẩm</div>
                        <div class="info-product__price mt-lg-3">
                            <span class="product-price">200000</span>
                            <span>đ</span>
                        </div>
                    </div>
                    <div class="number-product">
                        <div class="sum-price-product mt-1">
                            <span class="sum-price"></span>
                            <span>đ</span>
                        </div>
                        <div class="number-input input-group mt-3">
                            <button class="reduce-product btn btn-success">-</button>
                            <input type="text" class="form-control" value="1">
                            <button class="increase-product btn btn-success">+</button>
                        </div>
                    </div>
                </div>
                <div class="product d-flex">
                    <div class="remove-product">x</div>
                    <div class="img-product me-3">
                        <img width="100px" height="100px" src="https://th.bing.com/th/id/R.4151f010afe5faecc6e92595fb7ea134?rik=LQE8N97xI5nG9Q&pid=ImgRaw&r=0" alt="bàn phím">
                    </div>
                    <div class="info-product mt-2">
                        <div class="info-product__name">Tên sản phẩm</div>
                        <div class="info-product__price mt-lg-3">
                            <span class="product-price">120000</span>
                            <span>đ</span>
                        </div>
                    </div>
                    <div class="number-product">
                        <div class="sum-price-product mt-1">
                            <span class="sum-price"></span>
                            <span>đ</span>
                        </div>
                        <div class="number-input input-group mt-3">
                            <button class="reduce-product btn btn-success">-</button>
                            <input type="text" class="form-control" value="1">
                            <button class="increase-product btn btn-success">+</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="note-product mx-3 mt-3 p-3">
                <h3>Ghi chú đơn hàng</h3>
                <textarea class="form-control border border-2 border-warning" name="note-product-info" id="note-product-info"></textarea>
                <div class="mt-3">
                    <input class="form-check-input" type="checkbox" name="check-bill" id="check-bill">
                    <label for="check-bill">Xuất hóa đơn cho đơn hàng</label>
                </div>
            </div>
        </div>
        <div class="cart-info col-lg-3 col-md-12">
            <h4 class="text-success m-2">Thông tin đơn hàng</h4><hr>
            <div class="info-time row m-2 p-2  border border-1 border-secondary-subtle">
                <div class="result-select col-6">
                    <div>THỜI GIAN GIAO HÀNG</div>
                    <div class="result">Vui lòng chọn thời gian ở bên</div>
                </div>
                <div class="select-time col-6">
                    <input type="radio" class="form-check-input" name="time" id="time-1">
                    <label for="time-1">Giao khi có hàng</label>
                    <input type="radio" class="form-check-input" name="time" id="time-2">
                    <label for="time-2">chọn thời gian</label>
                </div>
            </div>
            <div class="sum-all-price d-flex justify-content-between mx-2 my-3">
                <h5>Tổng tiền</h5>
                <div class="result-sum-price text-danger">...</div>
            </div><hr>
            <ul>
                <li>Phí vận chuyển được tính ở trang thanh toán</li>
                <li>Bạn cũng có thể nhập mã giảm giá ở trang thanh toán</li>
            </ul>
            <div class="button-pay d-flex justify-content-center">
                <button class="btn btn-danger w-75">THANH TOÁN</button>
            </div>
        </div>
    </div>
    <footer>
        <div class="container text-center">
            <div class="row gx-5 justify-content-center">
                <div class="col-lg-3 col-md-3">
                    <h3>SẢN PHẨM</h3>
                    <div><a href="#">sản phẩm A</a></div>
                    <div><a href="#">sản phẩm B</a></div>
                    <div><a href="#">sản phẩm C</a></div>
                </div>
                <div class="col-lg-3 col-md-3">
                    <h3>VỀ CÔNG TY</h3>
                    <div><a href="#">Thông tin A</a></div>
                    <div><a href="#">Thông tin B</a></div>
                    <div><a href="#">Thông tin C</a></div>
                </div>
                <div class="col-lg-3 col-md-3">
                    <h3>Hỗ trợ</h3>
                    <div><a href="#">FAQs</a></div>
                    <div><a href="#">Bảo mật thông tin</a></div>
                    <div><a href="#">Chính sách chung</a></div>
                    <div><a href="#">Tra cứu đơn hàng</a></div>
                </div>
            </div>
        </div>
    </footer>

    <script src="./js/jquery.min.js"></script>
    <script>
        var nProduct;
        $(document).ready(function () {
            defaultAll();
        })
        function defaultAll() {
            nProduct = $('.list-product .product').length;
            $('.number-of-product').html(nProduct);
            for (let i = 1; i <= nProduct; i++) {
                $('.list-product .product').eq(i - 1).addClass('product-'+i)
            }
            handleOnePrice();
            handleAllPrice();
            for (let i = 1; i <= nProduct; i++) {
                $(`.product-${i} .increase-product`).attr('onclick', `handleNumberProduct(${i}, 'increase')`);
                $(`.product-${i} .reduce-product`).attr('onclick', `handleNumberProduct(${i}, 'reduce')`);
                $(`.product-${i} input`).attr('onchange', `handleNumberProduct(${i}, 'input')`);
                $(`.product-${i} .remove-product`).attr('onclick', `handleRemoveProduct(${i})`);
            }
        }
        function handleRemoveProduct(number) {
            $(`.product-${number}`).css('display', 'none');
            $(`.product-${number}`).addClass(`.product-${number}-removed`);
            $(`.product-${number}`).removeClass(`product`);
            for (let i = 1; i <= nProduct; i++) {
                $(`.product-${i} .increase-product`).removeAttr('onclick');
                $(`.product-${i} .reduce-product`).removeAttr('onclick');
                $(`.product-${i} .remove-product`).removeAttr('onclick');
                $(`.product-${i}`).removeClass(`product-${i}`);
            }
            defaultAll();
        }
        function handleOnePrice() {
            for (let i = 1; i <= nProduct; i++) {
                let sumPrice = +$(`.product-${i} .product-price`).html() * +$(`.product-${i} input`).val();
                $(`.product-${i} .sum-price`).html(sumPrice);
            }
        }
        function handleAllPrice() {
            let sum = 0;
            for (let i = 1; i <= nProduct; i++) {
                sum += +$(`.product-${i} .sum-price`).html();
            }
            $('.result-sum-price').html(`${sum} đ`);
        }
        function handleNumberProduct(number, type) {
            let input = $(`.product-${number} input`).val();
            if (type === 'increase') {
                $(`.product-${number} input`).val(+input + 1)
            }
            if (type === 'reduce') {
                if (input > 1) {
                    $(`.product-${number} input`).val(+input - 1)
                }
            }
            handleOnePrice();
            handleAllPrice();
        }
        $('#time-1').on('click', function () {
            $('.result').html('<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#72da87}</style><path d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/></svg>' +
                '<span> Giao khi có hàng</span>');
        })
        $('#time-2').on('click', function () {
            $('.result').html('<select name="sl-time" id="sl-time" class="form-select"></select>');
            $('#sl-time').html('<option value="1">6h - 10h</option>' +
                                '<option value="1">11h - 13h</option>' +
                                '<option value="1">14h - 18h</option>');
        })
    </script>
</body>
</html>